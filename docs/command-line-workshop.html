<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Command Line Workshop | Intro to Command Line</title>
  <meta name="description" content="Description about Course/Book." />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Command Line Workshop | Intro to Command Line" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Description about Course/Book." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Command Line Workshop | Intro to Command Line" />
  
  <meta name="twitter:description" content="Description about Course/Book." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/dasl_favicon.ico" type="image/x-icon" />
<link rel="prev" href="index.html"/>
<link rel="next" href="about-the-authors.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<a href="https://hutchdatascience.org/" target="_blank"><img src="assets/big-dasl-stacked.png" style="width: 80%; padding-left: 34px; padding-top: 8px;"</a>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About this Course</a></li>
<li class="chapter" data-level="2" data-path="command-line-workshop.html"><a href="command-line-workshop.html"><i class="fa fa-check"></i><b>2</b> Command Line Workshop</a>
<ul>
<li class="chapter" data-level="2.1" data-path="command-line-workshop.html"><a href="command-line-workshop.html#what-is-the-command-line-and-why-should-i-learn-it"><i class="fa fa-check"></i><b>2.1</b> What is the Command Line and why should I learn it?</a></li>
<li class="chapter" data-level="2.2" data-path="command-line-workshop.html"><a href="command-line-workshop.html#getting-started"><i class="fa fa-check"></i><b>2.2</b> Getting Started</a></li>
<li class="chapter" data-level="2.3" data-path="command-line-workshop.html"><a href="command-line-workshop.html#mental-model-1-navigating-a-directory-tree"><i class="fa fa-check"></i><b>2.3</b> Mental Model 1: Navigating a directory tree</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="command-line-workshop.html"><a href="command-line-workshop.html#exercise-explore-the-cloudproject-folder."><i class="fa fa-check"></i><b>2.3.1</b> Exercise: explore the <code>/cloud/project</code> folder.</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="command-line-workshop.html"><a href="command-line-workshop.html#mental-model-2-treat-text-based-commands-as-functions"><i class="fa fa-check"></i><b>2.4</b> Mental Model 2: Treat text-based commands as functions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="command-line-workshop.html"><a href="command-line-workshop.html#how-do-we-know-what-options-and-arguments-to-use-for-a-command"><i class="fa fa-check"></i><b>2.4.1</b> How do we know what options and arguments to use for a command?</a></li>
<li class="chapter" data-level="2.4.2" data-path="command-line-workshop.html"><a href="command-line-workshop.html#exercise-options-for-ls"><i class="fa fa-check"></i><b>2.4.2</b> Exercise: options for <code>ls</code></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="command-line-workshop.html"><a href="command-line-workshop.html#file-manipulation"><i class="fa fa-check"></i><b>2.5</b> File manipulation</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="command-line-workshop.html"><a href="command-line-workshop.html#wildcards-to-access-multiple-files"><i class="fa fa-check"></i><b>2.5.1</b> Wildcards to access multiple files</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="command-line-workshop.html"><a href="command-line-workshop.html#applying-what-we-just-learned-running-bioinformatics-software"><i class="fa fa-check"></i><b>2.6</b> Applying what we just learned: running bioinformatics software</a></li>
<li class="chapter" data-level="2.7" data-path="command-line-workshop.html"><a href="command-line-workshop.html#redirects-and-pipes"><i class="fa fa-check"></i><b>2.7</b> Redirects and Pipes</a></li>
<li class="chapter" data-level="2.8" data-path="command-line-workshop.html"><a href="command-line-workshop.html#appendix-starting-the-command-line-locally-on-your-computer"><i class="fa fa-check"></i><b>2.8</b> Appendix: Starting the command line locally on your computer:</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="command-line-workshop.html"><a href="command-line-workshop.html#for-mac-users"><i class="fa fa-check"></i><b>2.8.1</b> For Mac users</a></li>
<li class="chapter" data-level="2.8.2" data-path="command-line-workshop.html"><a href="command-line-workshop.html#for-windows-users"><i class="fa fa-check"></i><b>2.8.2</b> For Windows users</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="command-line-workshop.html"><a href="command-line-workshop.html#appendix-special-symbols-for-directories"><i class="fa fa-check"></i><b>2.9</b> Appendix: Special symbols for directories</a></li>
<li class="chapter" data-level="2.10" data-path="command-line-workshop.html"><a href="command-line-workshop.html#appendix-using-a-text-editor-in-cli"><i class="fa fa-check"></i><b>2.10</b> Appendix: Using a text editor in CLI</a></li>
<li class="chapter" data-level="2.11" data-path="command-line-workshop.html"><a href="command-line-workshop.html#appendix-why-do-we-run-some-programs-using-."><i class="fa fa-check"></i><b>2.11</b> Appendix: Why do we run some programs using <code>./</code>?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="chapter" data-level="3" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>3</b> References</a></li>
<li class="divider"></li>
<p style="text-align:center;"> <a href="https://github.com/jhudsl/OTTR_Template" target="blank" > This content was published with</a> <a href="https://bookdown.org/" target="blank"> bookdown by: </a> </p>
<p style="text-align:center;"> <a href="https://hutchdatascience.org/"> The Fred Hutch Data Science Lab </a></p>
<p style="text-align:center; font-size: 12px;"> <a href="https://github.com/rstudio4edu/rstudio4edu-book/"> Style adapted from: rstudio4edu-book </a> <a href ="https://creativecommons.org/licenses/by/2.0/"> (CC-BY 2.0) </a></p>
<p style="padding-left: 40px;"><div class="trapezoid" style = "padding-left: 40px;"><span>  <a href="https://forms.gle/W6Mg4rzuMK6Yk3Am8"> Click here to provide feedback</a> <img src="assets/itcr_arrow.png" style=" width: 10%" ></span></div></p>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intro to Command Line</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<head>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=10.0,initial-scale=1.0">
  <!--script src="https://kit.fontawesome.com/6a26f47516.js"></script-->
  <!--<script src="assets/hideOutput.js"></script>-->
  <link href="assets/style.css" rel="stylesheet">
</head>
        


<div class="hero-image-container"> 
  <img class= "hero-image" src="assets/dasl_thin_main_image.png">
</div>
<div id="command-line-workshop" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Command Line Workshop<a href="command-line-workshop.html#command-line-workshop" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="what-is-the-command-line-and-why-should-i-learn-it" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> What is the Command Line and why should I learn it?<a href="command-line-workshop.html#what-is-the-command-line-and-why-should-i-learn-it" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s think about the ways we can interact with a computer: keyboard and mouse, hand gestures on a smartphone, voice commands, AR/VR, etc. Most of these interactions are related to a Graphical User Interface (GUI), which centers on the interaction between a pointer and colorful windows and menus.</p>
<p>However, the way a computer interprets and executes instructions are based on text commands. Even graphical information, such as where the mouse is when it clicked a button, is converted into numbers and characters. That means to be an effective programmer and data scientist, we also need to learn how to interact with our computers in a text-based way. This text-based interaction is called the Command Line Interface (CLI).</p>
<p>Examples where we need to use the Command Line:</p>
<ul>
<li><p>Scalable manipulation of text, files, and folders: if we want to move all files that have the words “tax returns” to a new folder, it would probably not scale easily via a mouse, but it could be done in one command in the Command Line.</p></li>
<li><p>Use of programming languages and scientific software tools often require Command Line knowledge: running Python and R programs, using Git, alignment and variant calling bioinformatics software. Although there are nice graphical user interfaces such as RStudio, Juypter Notebooks, and Galaxy, to have full flexibility of these languages you need to control them from the Command Line.</p></li>
<li><p>Use to high performance computing systems and the cloud all require Command Line knowledge as they do not typically offer GUIs.</p></li>
</ul>
<p>The most commonly used Command Line is the Shell. The Shell is a dynamic programming environment, similar to R and Python, but focuses on interacting with the operating system.</p>
</div>
<div id="getting-started" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Getting Started<a href="command-line-workshop.html#getting-started" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this workshop, we are working on a virtual command line via Posit Cloud. After this workshop, if you want to use the command line locally from your computer, see the appendix.</p>
<p>To access the virtual command line on Posit Cloud, you can access the following project: <a href="https://posit.cloud/content/9696853" class="uri">https://posit.cloud/content/9696853</a></p>
<p>Once you are in, on the left hand side of the screen, click the “Terminal” tab.</p>
<p>You should see some text, ending with a blinking cursor, such as this:</p>
<pre><code>/cloud/project$ </code></pre>
<p>This states that your current directory is <code>/cloud/project</code>. This current directory is important: in the Command Line, you interact with the computer from a directory, similar interacting with the computer using a file system window graphically.</p>
<p>Sometimes, the directory path is long so not the full path is printed. To see the path, type in the command <code>pwd</code> and hit enter.</p>
<pre><code>/cloud/project$ pwd
/cloud/project</code></pre>
<p>Unlike a GUI, the CLI does not provide immediate options to you to interact with. We have to know a learn a handful of vocabulary to interact with it well. But besides the vocabulary, we need to keep a mental model of a task we want to complete. In GUIs that that mental model is shown to us visually, such as a file browser.</p>
<p>We organizes our seminar by constructing several mental models and learning relevant commands related to each model.</p>
</div>
<div id="mental-model-1-navigating-a-directory-tree" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Mental Model 1: Navigating a directory tree<a href="command-line-workshop.html#mental-model-1-navigating-a-directory-tree" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>On our computer, the <strong>directory tree</strong> organizes files and directories in an (upside down) tree-like structure. In each folder, there is a parental directory, and there can be files and directories within it. The root directory <code>/</code> does not have a parental directory and contains all directories and files in on the computer.</p>
<p>Below is a typical directory tree schematic, with the root directory being <code>/</code> and home directory being <code>/home/runner</code>. We refer to a particular directory by describing its <strong>directory path</strong> separated by <code>/</code> slashes.</p>
<div class="float">
<img src="images/directory_tree.png" alt="Posit Cloud directory tree" />
<div class="figcaption">Posit Cloud directory tree</div>
</div>
<p>To interact with files and programs in the file system in the GUI world, we moved up and down the directory tree via point and clicking on windows. In the CLI world we can use the following commands:</p>
<ul>
<li><p><code>pwd</code> prints out our current directory.</p></li>
<li><p><code>cd /</code> changes directory to the root directory.</p></li>
<li><p><code>cd /cloud/project/input_files</code> changes directory to the directory we started with.</p></li>
</ul>
<p>So far, we have changed the directory by specifying the <strong>absolute directory path</strong>, which means specifying the directory from the root directory <code>/</code>. Often, we can specify a path by the <strong>relative directory path</strong>, which is a path <em>relative to our current directory</em>.</p>
<p>Suppose you want to access the folder <code>input_files</code>.</p>
<ul>
<li>The <strong>absolute directory path</strong> specifies the directory from the root directory: <code>/cloud/project/input_files</code></li>
<li>The <strong>relative directory path</strong> is a path <em>relative to our current directory</em>: if we are currently at <code>/cloud/project</code>, the relative path is <code>input_files</code> .</li>
<li>The symbol <code>..</code> specifies the parent directory. If we are currently at <code>/cloud/project/software</code>, the relative path is <code>../input_files</code>. You go up one directory, then go down to <code>input_files</code>.</li>
</ul>
<p>To find out what files and folders are within your current directory, the <code>ls</code> command will list them for you:</p>
<pre><code>/cloud/project$ ls
input_files  output_files  project.Rproj  software</code></pre>
<p>It is very common to navigate a directory tree via iterations of <code>ls</code> and <code>cd</code> on relative paths.</p>
<div id="exercise-explore-the-cloudproject-folder." class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Exercise: explore the <code>/cloud/project</code> folder.<a href="command-line-workshop.html#exercise-explore-the-cloudproject-folder." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Folders will not have an extension name, but files will, such as <code>.txt</code> or <code>.fastq</code> ones.</p>
<p>To examine a text file completely, use the <code>cat</code> command with the text file name, such as:</p>
<pre><code>/cloud/project/input_files$ cat metadata.txt
metadata goes here.</code></pre>
<p>To examine the first few lines of a text file, use the <code>head</code> command with the first argument to be the text file name. To examine the last few lines of a text file, use <code>tail</code>. To scroll through a text file, use <code>less</code>, which opens up a file, and you can use the arrow keys to browse. Then press <code>q</code> to quit.</p>
<p>Hint: to save typing, use the <code>tab</code> button twice to complete filepaths you don’t know existed.</p>
<p>If something looks out of control, hit <code>Ctrl-C</code> to stop a running program.</p>
</div>
</div>
<div id="mental-model-2-treat-text-based-commands-as-functions" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Mental Model 2: Treat text-based commands as functions<a href="command-line-workshop.html#mental-model-2-treat-text-based-commands-as-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A <strong>function</strong> is a tool that you can use over and over again:</p>
<ul>
<li><p>It can take in inputs</p></li>
<li><p>Does something</p></li>
<li><p>and can give an output.</p></li>
</ul>
<p>The commands you have been using, <code>pwd</code>, <code>cd</code>, <code>ls</code>, and <code>cat</code> can be viewed as functions:</p>
<ul>
<li><p>It can take in <strong>input arguments</strong>, <strong>options</strong></p></li>
<li><p>Does something</p></li>
<li><p>and can give an output</p></li>
</ul>
<p>For example, let’s look at the ways <code>ls</code> can be used:</p>
<ul>
<li>With an input argument
<ul>
<li><code>ls /cloud/project</code></li>
</ul></li>
<li>With options
<ul>
<li><code>ls -l</code></li>
</ul></li>
<li>With options and input argument
<ul>
<li><code>ls -l /cloud/project</code></li>
</ul></li>
</ul>
<div id="how-do-we-know-what-options-and-arguments-to-use-for-a-command" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> How do we know what options and arguments to use for a command?<a href="command-line-workshop.html#how-do-we-know-what-options-and-arguments-to-use-for-a-command" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Often, there is a <code>--help</code> or <code>-h</code> option that tells you how to use the software:</p>
<pre><code>ls --help</code></pre>
<p>Online resources: <a href="https://explainshell.com/" class="uri">https://explainshell.com/</a></p>
</div>
<div id="exercise-options-for-ls" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Exercise: options for <code>ls</code><a href="command-line-workshop.html#exercise-options-for-ls" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the <code>project</code> folder, try out a bunch of ways to list files and directories using various options of <code>ls</code>. Some questions to explore:</p>
<ul>
<li><p>Can you display all files? This would include files that start with <code>.</code>, which are considered “hidden”.</p></li>
<li><p>Can you sort by time (last modified)?</p></li>
<li><p>Can you show the long format? What does it show?</p></li>
<li><p>Can you print out the entire project directory tree by using a recursive option?</p></li>
<li><p>Can you show the size of each file?</p></li>
<li><p>How can you use multiple options at once?</p></li>
</ul>
</div>
</div>
<div id="file-manipulation" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> File manipulation<a href="command-line-workshop.html#file-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here are some commands that allows you to create, move, copy, and delete files and folders. All of these commands have no output text.</p>
<ul>
<li><p><code>cp [from] [to]</code> copies a file or folder from the <code>[from]</code> path to a <code>[to]</code> folder.</p></li>
<li><p><code>mv [from] [to]</code> moves a file or folder from the <code>[from]</code> path to a <code>[to]</code> folder.</p></li>
<li><p><code>mkdir [folderPath]</code> creates a new folder at the path specified by <code>[folderPath]</code>.</p></li>
<li><p><code>rm [path]</code> deletes a file at <code>[path]</code>. <code>rm -r [folder]</code> deletes a folder and its subcontents. Cannot be undone unless there is a backup system (usually not on personal computers, but available on Fred Hutch’s computing cluster.)</p></li>
</ul>
<p>There is a another special directory symbol that come up often in copying and moving. If you want to copy a file to the current directory, specify the working directory via <code>.</code> For example,</p>
<pre><code>cp my_folder/file.txt .</code></pre>
<p>copies the file to the working directory.</p>
<p>Can you explain what I am doing below?</p>
<pre><code>/cloud/project/input_files$ mkdir cases
/cloud/project/input_files$ mkdir controls
/cloud/project/input_files$ cp sample1_case.fastq cases
/cloud/project/input_files$ cp sample5_control.fastq controls
/cloud/project/input_files$ cd control/
/cloud/project/input_files$ ls
sample5_control.fastq</code></pre>
<div id="wildcards-to-access-multiple-files" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Wildcards to access multiple files<a href="command-line-workshop.html#wildcards-to-access-multiple-files" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How can I move multiple files at once based on some pattern, such as “case” or “control”?</p>
<p>The <code>*</code> wildcard represents zero or more characters of any form. Therefore, <code>*case*</code> will specify all files that starts with anything, have the word case in the middle, and ends with anything.</p>
<pre><code>/cloud/project/input_files$ ls -l  *case*
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample1_case.fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample2_case.fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample3_case.fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample4_case.fastq</code></pre>
<p>Similarly, if we want anything that ends in fastq,</p>
<pre><code>/cloud/project/input_files$ ls -l  *fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample1_case.fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample2_case.fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample3_case.fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample4_case.fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample5_control.fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample6_control.fastq
-rw-rw---- 1 r2244204 rstudio-user 1934812 Mar 20 23:24 sample7_control.fastq</code></pre>
<p>The input argument for <code>ls</code> is now a list of files.</p>
<p>We move it:</p>
<pre><code>/cloud/project/input_files$ cp *case* cases/</code></pre>
<p>We can use <code>*</code> to specify <em>all</em> files in a directory. We delete all files in <code>cases</code> (cannot be easily undone!!)</p>
<pre><code>/cloud/project/input_files$ cd cases/
/cloud/project/input_files/cases$ ls
sample1_case.fastq  sample2_case.fastq  sample3_case.fastq  sample4_case.fastq
/cloud/project/input_files/cases$ rm *</code></pre>
</div>
</div>
<div id="applying-what-we-just-learned-running-bioinformatics-software" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Applying what we just learned: running bioinformatics software<a href="command-line-workshop.html#applying-what-we-just-learned-running-bioinformatics-software" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A popular DNA sequence alignment tool is called “BWA”, and here we present a toy version of it to simulate what it like to use a bioinformatics command line tool. It takes in an unaligned sequence file and a reference genome, and then pretends to align the unaligned sequence to the reference genome.</p>
<pre><code>/cloud/project/input_files$ cd ../software/

/cloud/project/software$ python aligner.py --help
usage: aligner.py [-h] --reference REFERENCE --input INPUT

optional arguments:
  -h, --help            show this help message and exit
  --reference REFERENCE, -r REFERENCE
                        Reference genome file
  --input INPUT, -i INPUT
                        Input fastq file</code></pre>
<p>You should use a fastq file from the <code>input_files</code> folder and the reference genome file from the <code>input_files/reference_genome</code> folder.</p>
<p>If it works, you will get a wall of text ending with something like:</p>
<pre><code>Aligned sequence  9996 :  ATATTAAATTCTAATATCTGGATCCTTTTGTAGTTCATGAGCGTGATGATTGGGTGTTTCACGCATGTGTGTGCAA
Aligned sequence  9997 :  ATTTTCTCTTTTTATTTATTATTTATTGGTTTCATAGAGCTGAGTGGAGTACGAATGTCTTAACTCTGATATCATT
Aligned sequence  9998 :  TGGTCTCCATTCACACCAGCCTCTTGTCACTGCTCTGTTCTTGTCTCTGGCTTAGAGCTACTTCCTGCTATGGTCC
Aligned sequence  9999 :  ATTCTTCCACCTCTGAAAAACCCCTACCCTCACAGACACTCTAGCCCACAGTCCAACCAGTCCCCAGCCCTCTCTG
Aligned sequence  10000 :  ATCTGAGGGGACGAGAGGGTAAGATGATTGATGGAGGGGAAATCCACAGAGCCTCAGGCACCAAATATGTAGCAAA</code></pre>
<p>Nice job!</p>
</div>
<div id="redirects-and-pipes" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Redirects and Pipes<a href="command-line-workshop.html#redirects-and-pipes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>python aligner.py</code> command seems pretty messy - it just dumps an aligned sequencing file in your command line console - what do you do with it? If you look at its manual, there is no option or argument to specify an output file name, which is a bit not user-friendly at first.</p>
<p>However, in the CLI world, this is a perfectly normal way to output a result from a program. We simply need to <strong>redirect</strong> that output to a file ourselves. The output of <code>./bwa mem</code> and the output of <code>ls</code> can be redirected to a file, via the <code>&gt;</code> operation:</p>
<pre><code>python aligner.py --reference [reference genome fasta file] --input [unaligned sequences fastq file] &gt; [output file]</code></pre>
<p>Remember when we looked at the output of the <code>ls</code> command, an emphasis is placed that the files and directories listed are considered the output of the program. We can redirect that output into a file too:</p>
<pre><code>ls &gt; ls_output.txt</code></pre>
<p>Another reason why in the CLI world the output is often dumped to the console is that it gives the user an option to <strong>pipe</strong> it to the next program that takes the first program’s output as input, using the symbol <code>|</code>. This allows the user to chain together several programs together, each performing a modular task. For instance, if we want to align the sequences, and then look at the first few aligned sequences, we can pipe the output of <code>bwa mem</code> with <code>tail</code>:</p>
<pre><code>python aligner.py --reference [reference genome fasta file] --input [unaligned sequences fastq file] | head</code></pre>
<p>and then save it:</p>
<pre><code>python aligner.py --reference [reference genome fasta file] --input [unaligned sequences fastq file] | head &gt; [output file]</code></pre>
<p>This encourages the development of modular, flexible programs that can be connected together via pipes and saved via redirecting.</p>
</div>
<div id="appendix-starting-the-command-line-locally-on-your-computer" class="section level2 hasAnchor" number="2.8">
<h2><span class="header-section-number">2.8</span> Appendix: Starting the command line locally on your computer:<a href="command-line-workshop.html#appendix-starting-the-command-line-locally-on-your-computer" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="for-mac-users" class="section level3 hasAnchor" number="2.8.1">
<h3><span class="header-section-number">2.8.1</span> For Mac users<a href="command-line-workshop.html#for-mac-users" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Open up “Terminal” Application in <code>Applications/Utilities</code>.</p>
</div>
<div id="for-windows-users" class="section level3 hasAnchor" number="2.8.2">
<h3><span class="header-section-number">2.8.2</span> For Windows users<a href="command-line-workshop.html#for-windows-users" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Open Windows Powershell.</p></li>
<li><p>Type in: <code>wsl --install -d ubuntu</code>, and hit enter.</p></li>
<li><p>You will might be asked to enter a new username and password. You can use the same as you have for your computer.</p></li>
<li><p>A shell terminal should show up. If it doesn’t show up, look in your search bar for “Ubuntu on Windows”, and open it.</p></li>
</ul>
</div>
</div>
<div id="appendix-special-symbols-for-directories" class="section level2 hasAnchor" number="2.9">
<h2><span class="header-section-number">2.9</span> Appendix: Special symbols for directories<a href="command-line-workshop.html#appendix-special-symbols-for-directories" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><code>.</code> the current directory.</p></li>
<li><p><code>..</code> the parent directory.</p></li>
<li><p><code>/</code> the root directory.</p></li>
<li><p><code>~</code> the home directory.</p></li>
</ul>
</div>
<div id="appendix-using-a-text-editor-in-cli" class="section level2 hasAnchor" number="2.10">
<h2><span class="header-section-number">2.10</span> Appendix: Using a text editor in CLI<a href="command-line-workshop.html#appendix-using-a-text-editor-in-cli" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A commonly used task in CLI is to edit text files. <code>nano</code>, <code>vim</code>, and <code>emacs</code> are the three most popular ones, in increasing learning curve but also complexity in the tasks you can perform. The easiest one to use, <code>nano</code> is not installed by default in Posit Cloud. If it was installed on your computer, here is how you would use it:</p>
<p>Pick a file of interest, and run <code>nano [filename]</code>. You will see a new screen of the filename’s contents. You can move around via the letter keys and make edits as needed. On the bottom of the screen are commands you use to manage the file, such as saving, opening, and quitting. The ^ symbol refers to the Control key on your keyboard. To quit, hit Ctrl-x, and you may have to hit y to confirm. You should get comfortable using a text editor in CLI as it is a common task.</p>
</div>
<div id="appendix-why-do-we-run-some-programs-using-." class="section level2 hasAnchor" number="2.11">
<h2><span class="header-section-number">2.11</span> Appendix: Why do we run some programs using <code>./</code>?<a href="command-line-workshop.html#appendix-why-do-we-run-some-programs-using-." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sometimes, you run a piece of software within a folder via <code>./my_program</code>. Why is that?</p>
<p>When you type in a command, such as <code>ls</code> in the command line, the command line looks to see whether the command belongs to a list of commands it knows how to run. This list of approved commands is stored in an environmental variable. We can see it via:</p>
<pre><code>andrew@MGQQR2YQRT9 ~ % echo $PATH
/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin</code></pre>
<p>In each folder (using <code>:</code> to distinguish folders apart) are the programs to run commands such as <code>ls</code>. If we want to run a program that is not in the <code>$PATH</code> environmental variable, there could be security issues. For instance, perhaps someone created a program called <code>ls</code> that does something bad to your computer, and you run it, thinking that you are running the program <code>ls</code> you are familiar with located in the <code>$PATH</code> environment variable. Or someone creating a malicious program called <code>sl</code> that takes advantages of typos.</p>
<p>To protect that, to run programs not in <code>$PATH</code>, we use: <code>./program_name</code>. This is a short-form of referring to the current directory <code>./</code> and running <code>program_name</code>.</p>
<p>For more info, see this <a href="https://unix.stackexchange.com/questions/4430/why-do-we-use-dot-slash-to-execute-a-file-in-linux-unix">post</a>.</p>

</div>
</div>
<hr>
<center> 
  <div class="footer">
      All illustrations <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY. </a>
      <br>
      All other materials <a href= "https://creativecommons.org/licenses/by/4.0/"> CC-BY </a> unless noted otherwise.
      <a href="https://hutchdatascience.org/" target="_blank"><img src="https://hutchdatascience.org/images/crazy-idea-wide.png" style="width: 80%; padding-left: 15px; padding-top: 8px;"</a>
  </div>
</center>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="about-the-authors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
